<p-panel>
    <!-- Panel de Datos del Estudiante -->
    <ng-template pTemplate="header">
        <div class="flex flex-column w-full">
            <div class="m-4 text-center">
                <span class="font-bold uppercase" style="font-size: 2rem"
                    >Seguimiento a egresados</span
                >
            </div>
            <div class="field grid">
                <div class="col-2"></div>
                <div class="col-10 text-right align-self-center">
                    <!-- Panel de Datos del Estudiante -->
                    <p-card
                        class="m-2"
                        header="Datos del Estudiante"
                        [style]="{ width: '600px' }"
                    >
                        <div class="mt-2 flex justify-content-between">
                            <span>Código</span>
                            <span>ABC123</span>
                        </div>
                        <!-- Agrega más detalles del estudiante aquí -->
                        <!-- Ejemplo: -->
                        <div class="mt-2 flex justify-content-between">
                            <span>Nombres y Apellidos</span>
                            <span>John Doe</span>
                        </div>
                        <div class="mt-2 flex justify-content-between">
                            <span>Cohorte</span>
                            <span>2023</span>
                        </div>
                        <div class="mt-2 flex justify-content-between">
                            <span>Periodo de Ingreso</span>
                            <span>2022-2023</span>
                        </div>
                    </p-card>
                </div>
            </div>

            <!-- Detalles adicionales del estudiante -->
            <div class="flex flex-column gap-2">
                <div class="field grid">
                    <div class="col-2 text-right align-self-center">
                        <label>Fecha de grado</label>
                    </div>
                    <div class="col-10">
                        <input
                            pInputText
                            [maxLength]="250"
                            class="p-inputtext-sm w-25rem"
                            value="01/01/2023"
                            disabled
                        />
                    </div>
                </div>
                <div class="field grid">
                    <div class="col-2 text-right align-self-center">
                        <label>Teléfono de contacto</label>
                    </div>
                    <div class="col-10">
                        <input
                            pInputText
                            [maxLength]="250"
                            class="p-inputtext-sm w-25rem"
                            value="123-456-7890"
                            disabled
                        />
                    </div>
                </div>
                <div class="field grid">
                    <div class="col-2 text-right align-self-center">
                        <label>Correo electrónico</label>
                    </div>
                    <div class="col-10">
                        <input
                            pInputText
                            [maxLength]="250"
                            class="p-inputtext-sm w-25rem"
                            value="correo@example.com"
                            disabled
                        />
                    </div>
                </div>
            </div>
        </div>
    </ng-template>

    <ng-template pTemplate="content">
        <!-- Panel de Empresas donde ha laborado -->
        <div class="flex flex-column gap-2 w-full">
            <div class="field grid">
                <div class="col-2 text-right align-self-center">
                    <label class="font-bold">Empresas donde ha laborado</label>
                </div>
                <div class="col-10 text-right">
                    <button
                        pButton
                        icon="pi pi-plus"
                        class="mr-2"
                        label="Agregar Empresa"
                        (click)="showAddEmpresa()"
                    ></button>
                </div>
            </div>
            <div class="field grid">
                <div class="col-2"></div>
                <div class="col-10">
                    <!-- Tabla de Empresas -->
                    <p-table
                        [value]="empresas"
                        [paginator]="true"
                        [loading]="loading"
                        [rows]="5"
                        [tableStyle]="{ 'min-width': '50rem', width: '100%' }"
                        [showCurrentPageReport]="true"
                        breakpoint="768px"
                        styleClass="p-datatable-gridlines p-datatable-striped"
                        currentPageReportTemplate="{first} - {last} de {totalRecords}"
                    >
                        <ng-template pTemplate="header">
                            <tr>
                                <th scope="col" class="text-center">Empresa</th>
                                <th scope="col" class="text-center">
                                    Ubicación
                                </th>
                                <th scope="col" class="text-center">Cargo</th>
                                <th scope="col" class="text-center">
                                    Jefe Directo
                                </th>
                                <th scope="col" class="text-center">
                                    Teléfono de la Empresa
                                </th>
                                <th scope="col" class="text-center w-2">
                                    Correo Electrónico
                                </th>
                                <th scope="col" class="text-center">Estado</th>
                                <th scope="col" class="text-center w-2">
                                    Opciones
                                </th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-empresa>
                            <tr>
                                <td>{{ empresa.nombre }}</td>
                                <td>{{ empresa.ubicacion }}</td>
                                <td>{{ empresa.cargo }}</td>
                                <td>{{ empresa.jefeDirecto }}</td>
                                <td>{{ empresa.telefono }}</td>
                                <td>{{ empresa.correo }}</td>
                                <td>{{ empresa.estado }}</td>
                                <td class="text-center">
                                    <button
                                        pButton
                                        pTooltip="Editar"
                                        type="button"
                                        icon="pi pi-pencil"
                                        class="p-button-rounded p-button-text p-button-warning"
                                        (click)="showUpdateEmpresa(empresa.id)"
                                    ></button>
                                    <button
                                        pButton
                                        pTooltip="Eliminar"
                                        type="button"
                                        icon="pi pi-trash"
                                        class="p-button-rounded p-button-text p-button-danger"
                                        (click)="
                                            onDelete(
                                                $event,
                                                empresa.id,
                                                'empresa'
                                            )
                                        "
                                    ></button>
                                    <p-confirmPopup></p-confirmPopup>
                                </td>
                            </tr>
                        </ng-template>
                        <!-- Mensaje sin registros -->
                        <ng-template pTemplate="emptymessage" let-columns>
                            <tr>
                                <td [attr.colspan]="8">
                                    No se encontraron registros
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </div>
        </div>
    </ng-template>
    <ng-template pTemplate="footer">
        <div class="flex flex-column gap-2 w-full">
            <div class="field grid">
                <div class="col-2 text-right align-self-center">
                    <label class="font-bold"
                        >Cursos que ha orientado en la universidad del
                        Cauca</label
                    >
                </div>
                <div class="col-10 text-right">
                    <button
                        pButton
                        icon="pi pi-plus"
                        class="mr-2"
                        label="Agregar Curso"
                        (click)="showAddCurso()"
                    ></button>
                </div>
            </div>
            <div class="field grid">
                <div class="col-2"></div>
                <div class="col-10">
                    <!-- Tabla de Cursos -->
                    <p-table
                        [value]="cursos"
                        [paginator]="true"
                        [loading]="loading"
                        [rows]="5"
                        [tableStyle]="{ 'min-width': '50rem', width: '100%' }"
                        [showCurrentPageReport]="true"
                        breakpoint="768px"
                        styleClass="p-datatable-gridlines p-datatable-striped"
                        currentPageReportTemplate="{first} - {last} de {totalRecords}"
                    >
                        <ng-template pTemplate="header">
                            <tr>
                                <th scope="col" class="text-center">Curso</th>
                                <th scope="col" class="text-center">
                                    Orientado a
                                </th>
                                <th scope="col" class="text-center">
                                    Fecha inicio
                                </th>
                                <th scope="col" class="text-center">
                                    Fecha Fin
                                </th>
                                <th scope="col" class="text-center w-2">
                                    Opciones
                                </th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-curso>
                            <tr>
                                <td>{{ curso.nombre }}</td>
                                <td>{{ curso.orientadoA }}</td>
                                <td class="text-center">
                                    {{ curso.fechaInicio }}
                                </td>
                                <td class="text-center">
                                    {{ curso.fechaFin }}
                                </td>
                                <td class="text-center">
                                    <button
                                        pButton
                                        pTooltip="Editar"
                                        type="button"
                                        icon="pi pi-pencil"
                                        class="p-button-rounded p-button-text p-button-warning"
                                        (click)="showUpdateCurso(curso.id)"
                                    ></button>
                                    <button
                                        pButton
                                        pTooltip="Eliminar"
                                        type="button"
                                        icon="pi pi-trash"
                                        class="p-button-rounded p-button-text p-button-danger"
                                        (click)="
                                            onDelete($event, curso.id, 'curso')
                                        "
                                    ></button>
                                    <p-confirmPopup></p-confirmPopup>
                                </td>
                            </tr>
                        </ng-template>
                        <!-- Mensaje sin registros -->
                        <ng-template pTemplate="emptymessage" let-columns>
                            <tr>
                                <td [attr.colspan]="5">
                                    No se encontraron registros
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
            </div>
        </div>
    </ng-template>
</p-panel>
